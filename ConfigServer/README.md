# Spring-Cloud-Config-Server

### 정의

Config 서버는 분산시스템에서 애플리케이션의 환경설정정보 특히 서비스,
비즈니스로직과 연관성 있는 정보들을 애플리케이션과 분리해 외부에서 관리하도록 
한 환경설정 서버다. 이를 사용하면 수많은 애플리케이션들의 환경설정 속성정보를 중앙에서
관리 할 수 있다. 

환경설정 속성정보 란
* DB 접속 정보
* 미들웨어(연계서버) 접속정보
* 애플리케이션을 구성하는 각종 메타데이터

(이런 속성값들은 보통 application.properties, application.yml 파일에
기록하여 사용한다.)

### 필요성
이러한 정보들을 마이크로서비스들이 제각각 따로 관리하게 될 경우
환경설정값이 변경되게 되면 전체 마이크로서비스들을 다시 빌드해야 하는데,
마이크로서비스의 개수가 많으면 많을수록 변경사항을 적용하는데 많은 비용이 발생하게 된다.

이런한 문제를 해결하기 위해 Spring Cloud Config 컴포넌트가 제공된다.
Config Server를 구축하여 사용하면 마이크로서비스들의 환경설정파일을 중앙 서버 한 곳에 관리할 수 있게 된다.

* Config Server 구동 시 Environment Repository에서 설정 내용을 취한다.(보통 Git이나 SVN같은 VCS를 많이 사용한다.)
* 각 마이크로서비스들은 서비스가 구동될 때 Config Server에서 설정 내용을 내려 받아 애플리케이션이 초기화되고 구동된다.
* 만약 서비스 운영 중에 설정파일을 변경 해야 할 경우에는 Spring Cloud Bus를 이용하여 모든 마이크로 서비스의 환경설정을 업데이트 할 수 있다. 
Spring Cloud Bus는 각 서비스들간의 실시간 메시지 통신 역할을 하는 RabbitMQ 또는 Kafka 같은 경량 메시지 브로커들을 사용할 수 있도록 해주며, 이 메시지 브로커들을 이용하여 각 서비스들에게 Config 변경사항을 전파한다.


### Environment Repositry
GIT, SVN, FILE system, Database 등 다양한 곳에서 구현 가능하다.

